局域网内通信，两台主机通信，必须知道对方mac地址，但tcp/ip协议中，只关心目标主机的ip，所以就需要ip与mac地址的映射。arp协议就是干这个的，局域网中各网卡缓存了局域网中其他网卡的ip与mac的映射。
发送消息，arp本地缓存命中，直接取得目标主机mac，在报文中添加mac地址，发送消息。
arp未命中，广播查询ip对应的mac, 局域网中只有对应ip的主机会响应这个请求，返回mac。源主机得到mac，在本地arp中缓存。

不在一个局域网中，不能直接通过对方mac地址通信，需要通过路由转发，所有消息中的mac地址不是目标主机的mac地址，而是路由器的mac地址，消息发送给路由，然后由路由转发，这称为委托arp 或 arp代理。

TCP/IP协议的主机或路由，都有ARP缓存表格式如下：
主机名称	IP地址			MAC地址
s1			192.168.38.10	00-AA-00-62-D2-02
s2			192.168.38.11	00-BB-00-62-C2-02
s3			192.168.38.12	00-CC-00-62-C2-02
s4			192.168.38.13	00-DD-00-62-C2-02
s5			192.168.38.14	00-EE-00-62-C2-02

查看arp的命令：
win: arp -a
linux: arp -nv
mac: arp -nla
