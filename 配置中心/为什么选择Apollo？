Google了下配置中心，结果大概有两类：1. 携程Apollo的介绍。 2. 市面各类配置中心的对比。很实用！从技术选型，到具体实践，一站式服务！可惜都是在讲“术”，“道”在哪里？ 发现下面一个好TM长的博客，来自于国内java中间件大户 阿里。
http://jm.taobao.org/2016/09/28/an-article-about-config-center/
博客是2016年写的，3年过去了，配置中心已经有很多优秀的开源作品，但这篇文章我还是撸了一把，术与道 都要有嘛~
文章从一个很优雅的名词开始“系统运行时飞行姿态的调整”，老实讲，我是因为这个词才继续看下去的，多么优雅的描述啊，“飞行姿态的调整”，让我联想到飞机的若干飞行场景: 
	 	"747穿越大西洋，突然遇到风暴，要调整航线，绕过风暴中心"
		"现在是高峰期，马尼拉机场没有足够的跑道，所以你坐的飞机要在马尼拉湾上  空盘旋飞行40分钟，排队等待降落"
我们系统不也有类似的场景么，
		“秒杀活动的流量比我们预估的要高很多，不控制流量的话，系统要奔溃了，			赶紧打开限流开关！让流量在外排队”			---调整飞行姿态
		 “什么？坑爹的服务商临时通知明天变更域名？” ---调整飞行姿态
		  “今天网络拥堵，需要修改接口的超时时间！”---调整飞行姿态
		 “我靠，生产的配置写错了，立马改掉！”    ---调整飞行姿态
系统要优雅地“调整飞行姿态”，靠什么？ **动态配置**！
配置我懂，啥是**动态**的配置呢？那静态的配置是啥样？
一句话解释：系统在“飞行”过程中，通过改变配置来调整“飞行姿态”，这种配置叫 动态配置！
这样就很容易理解什么是静态：飞行中不需要改变的配置。
国内早期知名的配置中心产品Diamond为什么出现在阿里？
---因为阿里是最早对配置中心产生刚性需求的大厂。
但阿里是太阳系最早的么？ 嘿嘿，不是！ 可以考证到的结果是：1985年就有人提出了动态配置中心的概念了。Jeff Kramer和Jeff Magee两位老哥在IEEE TRANSACTIONS ON SOFTWARE ENGINEERING 上发表了一篇名为 Dynamic Configuration for Distributed Systems的Paper。领先我国好多年啊！！

阿里对配置中心的刚性需求是啥？
1.稀疏的变更  --线上的配置偶尔需要改变一下！
2.快速的传播  --我改变了配置，系统的飞行姿势要立马改变啊！
3.多环境的配置隔离 --生产的配置归生产，测试的配置归测试，不要搞错啊！

好了！那篇好TM长的博客撸完了！
下面撸撸这些讲“术”的文章吧。

“感谢各大厂开源，我们小厂不用花钱买服务了，更不用自研了！”
“什么？google一下，发现这么多免费的产品，我们选哪个啊？”
来来来，我们先撸一下需求吧! 我们需要配置中心哪些特性，尤其是刚性需求？或者说配置中心有哪些特性是我们需要的？

1.静态配置管理。
2.动态配置管理。
3.多环境配置的管理与隔离。
4.配置的快速传播。
以上4点刚需。在现在复杂的分布式系统环境下，需求更多了。
  “要是配置中心挂了，我们取不到配置了怎么办？”---催生需求：应用可以读本地缓存的配置，配置中心要发出报警信息，告诉运维我挂了，赶紧来维护。
   “我系统代码要回滚，配置也要回滚！”---催生需求：回滚。
     "我们现在要灰度发布，配置也要支持！"  ---催生需求：灰度。
	 "我们这边不光有java的系统 ，还有.net系统" --多语言支持
	 "配置要有权限管理，生产配置不是谁都能看的" --权限管理
	 "配置中心要高可用" --冗余部署, 多数据中心
	 "要高性能，我们有上千个系统，都接入的话，你能抗得住？" ---高性能
	 "对我系统侵入性小，而且接入要尽可能简单！" --简单，侵入小
	 "最好还有个体验良好的用户操作界面！"   --admin系统的需求
	 "我们公司对配置的安全性要求更，需要有审计" --审计需求
	 
好了，民意调查结束，对大家需求我们了解的差不多了，来对比下各产品吧。
从贴图上看，Apollo与我们需求最贴近！就选Apollo吧！
[![横向对比](https://github.com/flysnow911/DailySpringFrameWork/blob/master/doc/1514121668514028415%20(1).png "横向对比")](https://github.com/flysnow911/DailySpringFrameWork/blob/master/doc/1514121668514028415%20(1).png "横向对比")
[![ReentrantLock CLass PNG](https://github.com/flysnow911/Blogs/blob/master/Java/images/ReentrantLock.png "ReentrantLock CLass PNG")](https://github.com/flysnow911/Blogs/blob/master/Java/images/ReentrantLock.png "ReentrantLock CLass PNG")      
    
    "我还需要接入Ldap！ 携程: 请下载源码，自行开发！或者等待！







